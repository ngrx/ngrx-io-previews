fbdae53b fixed final type tests
